<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <title>Video Diary Dashboard</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A600%2C700"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto%3A700"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Outfit%3A600%2C700"/>
  <link rel="stylesheet" href="./styles/video-diary-dashboard0.css"/>
</head>
<body>
<div class="video-diary-dashboard-3s7">
  <div class="group-33023-xz5">
    <div class="rectangle-81-7c5">
    </div>
    <div class="group-33007-3Eq">
      <div class="logobottom-nCR">
        <img class="mask-group-LUq" src="./assets/mask-group-TNy.png"/>
        <p class="mental-mastery-sDs">mental mastery</p>
      </div>
      <div class="auto-group-lm5s-Z6h">
        <div class="navtop-c4y">
          <p class="home-Kzy">Home</p>
          <p class="about-TLV">About</p>
          <p class="feature-ag1">Feature</p>
        </div>
        <div class="contactusbutton-KNh">CONTACT US</div>
      </div>
    </div>
  </div>
  <button class="next-button">Next</button>
  <div class="auto-group-nust-yi9">
  </div>
</div>
</body>

<script>
  fetch('get_emotion_from_database.php')
      .then(response => response.json())
      .then(data => {
          console.log('Data:', data); // Log the data
  
          if (data.emotion === 'sad' || data.emotion === 'angry' || data.emotion === 'neutral') {
              // Create a new img element
              const img = document.createElement('img');
  
              // Set the source of the img element to the image URL
              img.src = data.imageUrl;
  
              // Set the alt attribute of the img element
              img.alt = 'Happy Image';
  
              console.log('Image element:', img); // Log the img element
  
              // Select the div with the class 'auto-group-nust-yi9'
              const div = document.querySelector('.auto-group-nust-yi9');
  
              // Append the img element to the div
              div.appendChild(img);
          }
      })
      .catch(error => console.error('Error:', error));

// Make an AJAX request to the PHP file
fetch('analyse-emotion-num.php')
  .then(response => response.json())
  .then(counts => {
    // Log the counts
    console.log('Counts:', counts);

    // Select the div with the class 'auto-group-nust-yi9'
    const div = document.querySelector('.auto-group-nust-yi9');

    // Display the counts for each emotion
    for (const emotion in counts) {
      // Create a new paragraph element
      const p = document.createElement('p');

      // Set the text of the paragraph to the count for this emotion
      p.textContent = emotion.charAt(0).toUpperCase() + emotion.slice(1) + ' count: ' + counts[emotion];

      // Add styles to the paragraph
      p.style.fontFamily = 'Arial, sans-serif';
      p.style.fontSize = '20px';
      p.style.color = '#333';
      p.style.marginBottom = '10px';
      p.style.padding = '10px';
      p.style.borderRadius = '5px';
      p.style.backgroundColor = '#f8f8f8';
      p.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.15)';

      // Append the paragraph element to the div
      div.appendChild(p);
    }
  })
  .catch(error => console.error('Error:', error));

  // Navigate to landing page
  document.querySelector('.next-button').addEventListener('click', function() {
  window.location.href = 'http://localhost/AppDev/VideoDiary/video-diary-landing.html';
});
</script>